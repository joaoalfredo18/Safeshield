<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeShield - Relatórios</title>
    
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <aside class="barra-lateral">
        <div class="area-logo">
            <i class="fa-solid fa-shield-halved"></i>
            <span>SafeShield</span>
        </div>
        <nav class="links-navegacao">
            <a href="./index.html" class="item-navegacao">
                <i class="fa-solid fa-chart-pie"></i> <span>Dashboard</span>
            </a>
            <a href="./estoque.html" class="item-navegacao">
                <i class="fa-solid fa-box-archive"></i> <span>Estoque</span>
            </a>
            <a href="./solicitacoes.html" class="item-navegacao">
                <i class="fa-solid fa-clipboard-list"></i> <span>Solicitações</span>
            </a>
            <a href="./funcionarios.html" class="item-navegacao">
                <i class="fa-solid fa-users"></i> <span>Funcionários</span>
            </a>
    
            <a href="./relatorios.html" class="item-navegacao ativo">
                <i class="fa-solid fa-file-lines"></i> <span>Relatórios</span>
            </a>
        </nav>
    </aside>

    <main class="conteudo-principal">
        
        <div class="titulo-pagina">
            <div>
                <h1>Relatórios Gerenciais</h1>
                <p style="font-size: 14px; color: var(--texto-cinza); margin-top: 5px;">Análise de consumo, custos e distribuição de EPIs.</p>
            </div>
            
            <div style="display: flex; gap: 10px;">
                <button class="botao-novo" onclick="window.print()" style="background-color: #fff; color: var(--texto-escuro); border: 1px solid #ddd; cursor: pointer;">
                    <i class="fa-solid fa-print"></i> Imprimir
                </button>
            </div>
        </div>

        <div class="container-formulario" style="padding: 20px; margin-bottom: 24px;">
            <div class="grid-formulario" style="grid-template-columns: repeat(4, 1fr); align-items: end;">
                
                <div class="grupo-input">
                    <label>Data Início</label>
                    <input type="date" id="filtro-inicio" class="campo-input">
                </div>

                <div class="grupo-input">
                    <label>Data Fim</label>
                    <input type="date" id="filtro-fim" class="campo-input">
                </div>

                <div class="grupo-input">
                    <label>Setor</label>
                    <select id="filtro-setor" class="campo-input">
                        <option value="">Todos</option>
                        <option value="Produção">Produção</option>
                        <option value="Manutenção">Manutenção</option>
                        <option value="Segurança">Segurança</option>
                        <option value="Logística">Logística</option>
                        <option value="Administrativo">Administrativo</option>
                    </select>
                </div>

                <button id="btn-gerar" class="botao-novo" style="height: 40px; justify-content: center; cursor: pointer;">
                    Gerar Relatório
                </button>

            </div>
        </div>

        <div class="secao-central">
            
            <div class="caixa-grafico">
                <h3 style="margin-bottom: 20px; font-size: 16px; color: var(--texto-escuro);">Consumo por Setor</h3>
                <div style="height: 250px; width: 100%; display: flex; justify-content: center;">
                    <canvas id="graficoSetor"></canvas>
                </div>
            </div>

            <div class="caixa-grafico">
                <h3 style="margin-bottom: 20px; font-size: 16px; color: var(--texto-escuro);">Custo Mensal (Entregas)</h3>
                <div style="height: 250px; width: 100%;">
                    <canvas id="graficoCusto"></canvas>
                </div>
            </div>

        </div>

        <div class="caixa-grafico" style="margin-top: 24px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="font-size: 16px; color: var(--texto-escuro);">Detalhamento de Movimentações</h3>
            </div>
            
            <table class="tabela-limpa">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Funcionário</th>
                        <th>Setor</th>
                        <th>EPI</th>
                        <th>Status</th>
                        <th style="text-align: right;">Custo Est.</th>
                    </tr>
                </thead>
                <tbody id="tabela-relatorio">
                    </tbody>
            </table>
        </div>

    </main>

    <script src="./js/app_relatorios.js"></script>
            <div id="custom-modal" class="modal-overlay-custom">
    <div class="modal-box">
        <h3 id="modal-titulo" class="modal-titulo">SafeShield</h3>
        <p id="modal-mensagem" class="modal-mensagem">Mensagem do sistema...</p>
        
        <input type="text" id="modal-input" class="modal-input" placeholder="Digite aqui...">
        
        <div class="modal-botoes">
            <button id="btn-cancelar" class="btn-modal btn-cancelar">Cancelar</button>
            <button id="btn-confirmar" class="btn-modal btn-confirmar">OK</button>
        </div>
    </div>
</div>

<script src="./js/modal_sistema.js"></script>

</body>
</html>