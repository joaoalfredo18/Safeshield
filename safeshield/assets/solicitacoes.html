<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeShield - Solicitações</title>
    
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        .modal-overlay {
            display: none; 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            align-items: center; justify-content: center; z-index: 1000;
        }
        .modal-content {
            background: white; padding: 30px; border-radius: 12px;
            width: 400px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

    <aside class="barra-lateral">
        <div class="area-logo">
            <i class="fa-solid fa-shield-halved"></i>
            <span>SafeShield</span>
        </div>
        <nav class="links-navegacao">
            <a href="./index.html" class="item-navegacao">
                <i class="fa-solid fa-chart-pie"></i> <span>Dashboard</span>
            </a>
            <a href="./estoque.html" class="item-navegacao">
                <i class="fa-solid fa-box-archive"></i> <span>Estoque</span>
            </a>
    
            <a href="./solicitacoes.html" class="item-navegacao ativo">
                <i class="fa-solid fa-clipboard-list"></i> <span>Solicitações</span>
            </a>

            <a href="./funcionarios.html" class="item-navegacao">
                <i class="fa-solid fa-users"></i> <span>Funcionários</span>
            </a>
            <a href="./relatorios.html" class="item-navegacao">
                <i class="fa-solid fa-file-lines"></i> <span>Relatórios</span>
            </a>
        </nav>
    </aside>

    <main class="conteudo-principal">
        
        <div class="titulo-pagina">
            <div>
                <h1>Central de Solicitações</h1>
                <p style="font-size: 14px; color: var(--texto-cinza); margin-top: 5px;">Gerencie pedidos, aprovações e entregas de EPIs.</p>
            </div>
            <button class="botao-novo">
                <i class="fa-solid fa-plus"></i> Nova Solicitação
            </button>
        </div>

        <div class="kanban-container">

            <div class="kanban-coluna">
                <div class="kanban-cabecalho">
                    <span class="kanban-titulo" style="color: var(--laranja-texto);">
                        <i class="fa-regular fa-circle"></i> Pendentes
                    </span>
                    <span class="contador-badge" id="count-pendente">0</span>
                </div>
                <div id="coluna-pendente" style="display: flex; flex-direction: column; gap: 12px;"></div>
            </div>

            <div class="kanban-coluna">
                <div class="kanban-cabecalho">
                    <span class="kanban-titulo" style="color: var(--azul-primario);">
                        <i class="fa-regular fa-circle-check"></i> Aprovados
                    </span>
                    <span class="contador-badge" id="count-aprovado">0</span>
                </div>
                <div id="coluna-aprovado" style="display: flex; flex-direction: column; gap: 12px;"></div>
            </div>

            <div class="kanban-coluna">
                <div class="kanban-cabecalho">
                    <span class="kanban-titulo" style="color: var(--verde-texto);">
                        <i class="fa-solid fa-hand-holding-hand"></i> Entregues
                    </span>
                    <span class="contador-badge" id="count-entregue">0</span>
                </div>
                <div id="coluna-entregue" style="display: flex; flex-direction: column; gap: 12px;"></div>
            </div>

             <div class="kanban-coluna">
                <div class="kanban-cabecalho">
                    <span class="kanban-titulo" style="color: var(--texto-escuro);">
                        <i class="fa-solid fa-archive"></i> Recusados
                    </span>
                    <span class="contador-badge" id="count-recusado">0</span>
                </div>
                <div id="coluna-recusado" style="display: flex; flex-direction: column; gap: 12px;"></div>
            </div>

        </div>

    </main>

    <div id="modal-nova-solicitacao" class="modal-overlay">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">Nova Solicitação</h2>
            <form id="form-solicitacao">
                <div class="grupo-input">
                    <label>Funcionário Solicitante</label>
                    <select name="cod_funcionario_pedido" class="campo-input" required></select>
                </div>
                <div class="grupo-input">
                    <label>EPI Solicitado</label>
                    <select name="cod_epi_solicitado" class="campo-input" required></select>
                </div>
                <div class="grupo-input">
                    <label>Observação (Opcional)</label>
                    <textarea name="descricao_pedido" class="campo-input"></textarea>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="button" class="botao-novo" style="background: #ccc; color: #333;" onclick="fecharModal()">Cancelar</button>
                    <button type="submit" class="botao-novo">Salvar Pedido</button>
                </div>
            </form>
        </div>
    </div>

    <script src="./js/app_solicitacao.js"></script>

    <script>
        function fecharModal() {
            document.getElementById('modal-nova-solicitacao').style.display = 'none';
        }
    </script>

    <div id="custom-modal" class="modal-overlay-custom">
    <div class="modal-box">
        <h3 id="modal-titulo" class="modal-titulo">SafeShield</h3>
        <p id="modal-mensagem" class="modal-mensagem">Mensagem do sistema...</p>
        
        <input type="text" id="modal-input" class="modal-input" placeholder="Digite aqui...">
        
        <div class="modal-botoes">
            <button id="btn-cancelar" class="btn-modal btn-cancelar">Cancelar</button>
            <button id="btn-confirmar" class="btn-modal btn-confirmar">OK</button>
        </div>
    </div>
</div>

<script src="./js/modal_sistema.js"></script>
</body>
</html>